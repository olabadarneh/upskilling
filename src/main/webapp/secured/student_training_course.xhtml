<ui:composition template="/WEB-INF/template/template.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">
		<h:outputText value="#{msg.menu_student_training_course}" />
	</ui:define>

	<ui:define name="content">

		<h:form id="form">
			<p:ring id="basic" value="#{mbStdTrainCour.strTable}" var="str">
				<p:outputPanel>
            #{str.student.studentID}
            <br />
            #{mbSec.lang.equals('en')? str.student.studentEname: str.student.studentAname}
            <br />
					<p:commandButton update=":form:strDetail" icon="ui-icon-search" title="View" oncomplete="PF('strDialog').show();">
						<f:setPropertyActionListener value="#{str}" target="#{mbStdTrainCour.selectedSTR}" />
					</p:commandButton>
				</p:outputPanel>
			</p:ring>

			<p:dialog header="#{msg.lbl_student_training_course_info}" widgetVar="strDialog" modal="true" showEffect="fade" hideEffect="fade"
				width="600">
				<p:outputPanel id="strDetail" style="text-align:center;" layout="block">
					<p:panelGrid columns="2" rendered="#{not empty mbStdTrainCour.selectedSTR}" columnClasses="value" style="width:100%">

						<h:outputText value="#{msg.lbl_student_name}" />
						<h:outputText
							value="#{mbSec.lang.equals('en')? mbStdTrainCour.selectedSTR.student.studentEname:mbStdTrainCour.selectedSTR.student.studentAname}" />

						<h:outputText value="#{msg.lbl_training_course_name}" />
						<h:outputText
							value="#{mbSec.lang.equals('en')? mbStdTrainCour.selectedSTR.trainingCourseID.courseEname : mbStdTrainCour.selectedSTR.trainingCourseID.courseAname}" />

						<h:outputText value="#{msg.lbl_priority}" />
						<h:outputText value="#{mbStdTrainCour.selectedSTR.priority}" />
					</p:panelGrid>

					<p:dataTable id="strDT" var="str" value="#{mbStdTrainCour.selectedSTR}" styleClass="strtable">
						<f:facet name="header">
            #{msg.lbl_student_training_course_detailed}
        </f:facet>
						<p:column headerText="#{msg.lbl_student_name}">
							<h:outputText value="#{mbSec.lang.equals('en')?str.student.studentEname:str.student.studentAname}" />
						</p:column>

						<p:column headerText="#{msg.lbl_training_course_name}">
							<h:outputText value="#{mbSec.lang.equals('en')?str.trainingCourseID.courseEname:str.trainingCourseID.courseAname}" />
						</p:column>

						<p:column headerText="#{msg.lbl_selected_course}">
							<h:outputText value="#{mbStdTrainCour.selectedSTR.course}" />
						</p:column>

					</p:dataTable>
				</p:outputPanel>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>