<ui:composition template="/WEB-INF/template/template.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">
		<h:outputText value="#{msg.menu_edit_student}" />
	</ui:define>

	<ui:define name="content">
		<br />

		<h:form id="form">
			<p:dataGrid var="std" value="#{mbAddStd.stdTable}" columns="3" layout="grid">

				<f:facet name="header">
					<p:outputLabel value="#{msg.menu_student}" />
				</f:facet>

				<p:panel header="#{std.studentID}" style="text-align:center">
					<h:panelGrid columns="1" style="width:100%">

						<h:outputText value="#{mbSec.lang.equals('en')? std.studentEname : std.studentAname}" />


						<p:commandButton value="..." update=":form:editPnl" onclick="PF('stdDlg').show()">
							<f:setPropertyActionListener value="#{std}" target="#{mbStd.std}" />
						</p:commandButton>
					</h:panelGrid>
				</p:panel>
			</p:dataGrid>

			<p:dialog header="#{msg.lbl_edit_std}" widgetVar="stdDlg" height="290">

				<p:panelGrid id="editPnl" columns="2" rendered="#{not empty mbStd.std}" columnClasses="label,value">

					<h:outputText value="#{msg.lbl_university_name}:" />
					<p:selectOneMenu id="uni"
						value="#{mbSec.lang.equals('en')? mbStd.std.studentUniversity.universityEname : mbStd.std.studentUniversity.universityAname}">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems value="#{mbStd.stdTable}" var="u"
							itemLabel="#{mbSec.lang.equals('en')? u.studentUniversity.universityEname: u.studentUniversity.universityAname}"
							itemValue="#{u.studentUniversity.universityID}" />
					</p:selectOneMenu>

					<p:outputLabel value="#{msg.lbl_school_name}" />
					<p:selectOneMenu id="school" value="#{mbSec.lang.equals('en')?mbStd.std.studentSchool.schoolEname:mbStd.std.studentSchool.schoolAname}">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems value="#{mbStd.stdTable}" var="s"
							itemLabel="#{mbSec.lang.equals('en')? s.studentSchool.schoolEname: s.studentSchool.schoolAname}"
							itemValue="#{s.studentSchool.schoolID}" />
					</p:selectOneMenu>

					<p:outputLabel value="#{msg.lbl_program_name}" />
					<p:selectOneMenu id="prog"
						value="#{mbSec.lang.equals('en')? mbStd.std.studentProgram.programEname: mbStd.std.studentProgram.programAname}">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems value="#{mbStd.stdTable}" var="p"
							itemLabel="#{mbSec.lang.equals('en')? p.studentProgram.programEname: p.studentProgram.programAname}"
							itemValue="#{p.studentProgram.programID}" />
					</p:selectOneMenu>

					<h:outputText value="#{msg.lbl_student_name}:" />
					<p:inputText value="#{mbSec.lang.equals('en')? mbStd.std.studentEname : mbAStd.std.studentAname}" />

					<h:outputText value="#{msg.lbl_phone}:" />
					<p:inputText value="#{mbStd.std.studentPhoneNo}" />

					<h:outputText value="#{msg.lbl_birthdate}:" />
					<p:calendar value="#{mbStd.std.studentBirthDate}" />

					<h:outputText value="#{msg.lbl_email}:" />
					<p:inputText value="#{mbStd.std.studentEmail}" />

					<h:outputText value="#{msg.lbl_sex}:" />
					<p:inputText value="#{mbStd.std.studentSex}" />

					<h:outputText value="#{msg.lbl_final_avg}:" />
					<p:inputText value="#{mbStd.std.studentFinalAverage}" />

					<h:outputText value="#{msg.lbl_max_avg}:" />
					<p:inputText value="#{mbStd.std.studentMaxAverage}" />

					<h:outputText value="#{msg.lbl_rate}:" />
					<p:inputText value="#{mbStd.std.studentRate}" />

					<h:outputText value="#{msg.lbl_graduated_year}:" />
					<p:inputText value="#{mbStd.std.studentGradYear}" />

					<h:outputText value="#{msg.lbl_graduated_semester}:" />
					<p:inputText value="#{mbStd.std.studentGradSum}" />

					<f:facet name="footer">
						<p:commandButton value="#{msg.btn_save}" action="#{mbStd.update()}" ajax="false" />
						<p:commandButton value="#{msg.btn_back}" onclick="PF('stdDialog').hide()" />
					</f:facet>

				</p:panelGrid>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>