<ui:composition template="/WEB-INF/template/template.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">
		<h:outputText value="#{msg.menu_edit_student}" />
	</ui:define>

	<ui:define name="content">
		<br />

		<h:form id="form">
			<p:dataGrid var="std" value="#{mbAddStd.stdTable}" columns="3" layout="grid">

				<f:facet name="header">
					<p:outputLabel value="#{msg.menu_student}" />
				</f:facet>

				<p:panel header="#{std.studentID}" style="text-align:center">
					<h:panelGrid columns="1" style="width:100%">

						<h:outputText value="#{std.studentAname}" />


						<p:commandButton value="..." update=":form:editPnl" onclick="PF('stdDlg').show()">
							<f:setPropertyActionListener value="#{std}" target="#{mbAddStd.student}" />
						</p:commandButton>
					</h:panelGrid>
				</p:panel>
			</p:dataGrid>

			<p:dialog header="#{msg.lbl_edit_std}" widgetVar="stdDlg" height="290">

				<p:panelGrid id="editPnl" columns="2" rendered="#{not empty mbAddStd.student}" columnClasses="label,value">

					<h:outputText value="#{msg.lbl_uni_ar_name}:" />
					<p:selectOneMenu id="uni" value="#{mbAddStd.university.universityAname}">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems value="#{mbStd.stdTable}" var="u" itemLabel="#{u.studentUniversity.universityAname}"
							itemValue="#{u.studentUniversity.universityID}" />
					</p:selectOneMenu>

					<p:outputLabel value="#{msg.lbl_school_ar_name}" />
					<p:selectOneMenu id="school" value="#{mbAddStd.school.schoolAname}">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems value="#{mbStd.stdTable}" var="s" itemLabel="#{s.studentSchool.schoolAname}" itemValue="#{s.studentSchool.schoolID}" />
					</p:selectOneMenu>

					<p:outputLabel value="#{msg.lbl_program_ar_name}" />
					<p:selectOneMenu id="prog" value="#{mbAddStd.program.programAname}">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems value="#{mbStd.stdTable}" var="p" itemLabel="#{p.studentProgram.programAname}"
							itemValue="#{p.studentProgram.programID}" />
					</p:selectOneMenu>

					<h:outputText value="#{msg.lbl_std_ar_name}:" />
					<p:inputText value="#{mbAddStd.student.studentAname}" />

					<h:outputText value="#{msg.lbl_std_en_name}:" />
					<p:inputText value="#{mbAddStd.student.studentEname}" />

					<h:outputText value="#{msg.lbl_phone}:" />
					<p:inputText value="#{mbAddStd.student.studentPhoneNo}" />

					<h:outputText value="#{msg.lbl_birthdate}:" />
					<p:calendar value="#{mbAddStd.student.studentBirthDate}" />

					<h:outputText value="#{msg.lbl_email}:" />
					<p:inputText value="#{mbAddStd.student.studentEmail}" />

					<h:outputText value="#{msg.lbl_sex}:" />
					<p:inputText value="#{mbAddStd.student.studentSex}" />

					<h:outputText value="#{msg.lbl_final_avg}:" />
					<p:inputText value="#{mbAddStd.student.studentFinalAverage}" />

					<h:outputText value="#{msg.lbl_max_avg}:" />
					<p:inputText value="#{mbAddStd.student.studentMaxAverage}" />

					<h:outputText value="#{msg.lbl_rate}:" />
					<p:inputText value="#{mbAddStd.student.studentRate}" />

					<h:outputText value="#{msg.lbl_graduated_year}:" />
					<p:inputText value="#{mbAddStd.student.studentGradYear}" />

					<h:outputText value="#{msg.lbl_graduated_semester}:" />
					<p:inputText value="#{mbAddStd.student.studentGradSum}" />

					<f:facet name="footer">
						<p:commandButton value="#{msg.btn_save}" action="#{mbStd.update()}" ajax="false" />
						<p:commandButton value="#{msg.btn_back}" onclick="PF('stdDialog').hide()" />
					</f:facet>

				</p:panelGrid>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>